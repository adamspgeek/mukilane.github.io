var app=angular.module("port",["ngMaterial","ngAnimate","firebase"]);
app.config(function($mdThemingProvider,$interpolateProvider,$httpProvider,$compileProvider,$locationProvider,$controllerProvider){app.controllerProvider=$controllerProvider;$mdThemingProvider.theme("default").accentPalette("blue");$mdThemingProvider.enableBrowserColor({theme:"default",palette:"background",hue:"50"});$interpolateProvider.startSymbol("{*");$interpolateProvider.endSymbol("*}");$httpProvider.useApplyAsync(true);$compileProvider.debugInfoEnabled(false);$compileProvider.cssClassDirectivesEnabled(false);
$compileProvider.commentDirectivesEnabled(false);$locationProvider.hashPrefix("")});
app.controller("main",function($scope,$interval,$window,Toast,$sce,Dialog){$scope.gridLay=true;if(!localStorage.getItem("theme")){$scope.isDark=false;$scope.theme={bg:"grey-50",footer:"grey-200"}}else{$scope.isDark=true;$scope.theme={bg:"grey-800",footer:"grey-700"}}$scope.setDark=function(e){$scope.isDark=e;if(e){localStorage.setItem("theme","dark");Toast("Dark theme activated","refresh")}else{localStorage.removeItem("theme");Toast("Light theme activated","refresh")}};$scope.counter=0;$scope.adjective=
["A Web Developer","A Programmer","Google Play Rising Star","Loves OpenSource","A Linux Admin","Elon Musk Fan","Philomath","Tech Enthusiast"];$interval(function(){if($scope.counter<7)$scope.counter++;else $scope.counter=0},5E3);$window.addEventListener("offline",function(){Toast("You're Offline. Serving from cache!",false);$window.addEventListener("online",function(e){Toast("You're Online now !","ok")},{once:true,capture:false})},false);$scope.trust=function(url){$sce.trustAsUrl(url)};$scope.show=
function($event){if($scope.gridLay==true){$scope.gridLay=false;if(!navigator.onLine)Toast("You're offline. Serving from cache!")}};$scope.showDlg=function(ev){Dialog.show("feedback",ev)};$scope.go=function(dest){$window.location.href=$sce.trustAsResourceUrl(dest)}});
app.controller("feedback",function($scope,$firebaseObject,$firebaseAuth,Dialog){var auth=$firebaseAuth();var ref=firebase.database().ref("feedback");$scope.close=function(){Dialog.close()};$scope.showMsg=false;$scope.signIn=function(){$scope.showMsg=true;$scope.firebaseUser=null;auth.$signInAnonymously().then(function(firebaseUser){$scope.firebaseUser=firebaseUser;$scope.data=$firebaseObject(ref.push())}).catch(function(error){console.log("Error occured during sending")})};$scope.sendMsg=function(){$scope.data.$save().then(function(){console.log("Feedback Sent");
Dialog.close()}).catch(function(error){console.log("Error!")})}});app.controller("share",function($scope,Dialog,Toast){$scope.link=window.location.href;$scope.title=angular.element(window.document)[0].title;$scope.Toast=Toast;$scope.openShare=function(ev){Dialog.show("share",ev)};$scope.closeShare=function(){Dialog.close()}});app.controller("ProjectCtrl",function(Panel){this.show=function(dest){Panel(dest)}});
app.factory("Toast",["$mdToast","$window",function($mdToast,$window){return function(msg,action){if(action!==""){var toast=$mdToast.simple().textContent(msg).action(action).highlightAction(true);$mdToast.show(toast).then(function(response){if(response=="ok")switch(action){case "refresh":$window.location.reload();break;case "ok":$mdToast.hide();break}},function(err){angular.noop()})}else $mdToast.showSimple(msg)}}]);
app.factory("Dialog",["$mdDialog","Toast",function($mdDialog,Toast){return{show:function(dlg,ev){$mdDialog.show({templateUrl:"/assets/"+dlg+"-template.html",parent:angular.element(document.body),targetEvent:ev,controller:dlg,clickOutsideToClose:true})},close:function(){$mdDialog.cancel()}}}]);
app.factory("Panel",["$mdPanel",function($mdPanel){function PanelCtrl(mdPanelRef){this.close=function(){mdPanelRef&&mdPanelRef.close().then(function(){mdPanelRef.destroy()})}}return function(dest){this._mdPanel=$mdPanel;var tmpl="/project/"+dest+".html";var position=this._mdPanel.newPanelPosition().absolute().center();var animation=this._mdPanel.newPanelAnimation().withAnimation(this._mdPanel.animation.FADE);var config={animation:animation,attachTo:angular.element(document.body),controller:PanelCtrl,
controllerAs:"ctrl",disableParentScroll:this.disableParentScroll,templateUrl:tmpl,hasBackdrop:true,panelClass:"modal-container",position:position,trapFocus:true,zIndex:150,clickOutsideToClose:true,escapeToClose:true,focusOnOpen:true};this._mdPanel.open(config)}}]);
app.directive("tile",function(){return{restrict:"E",transclude:true,template:"\x3cdiv class\x3d'tile-wrap' style\x3d'background-image: url({{::image}}); opacity: {{::opacity}}; background-position: {{::pos}}; background-size: {{::size}}' ng-transclude\x3e\x3c/div\x3e",scope:{image:"@",opacity:"@",pos:"@",size:"@"}}});
app.directive("imageTile",function(){return{restrict:"E",transclude:true,template:"\x3cdiv class\x3d'tile-wrap' style\x3d'background-image: url({{::image}}); opacity: {{::opacity}}; background-position: {{::pos}}; background-size: {{::size}}'\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d'image-tile' ng-transclude\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e",scope:{image:"@",opacity:"@",pos:"@",size:"@"}}});
app.directive("tileImage",function(){return{restrict:"E",template:"\x3cimg ng-src\x3d'{{::source}}' style\x3d'opacity:{{::opacity}}; width: {{::width}};'/\x3e",scope:{source:"@",opacity:"@",width:"@"}}});app.directive("tileHeader",function(){return{restrict:"E",transclude:true,template:"\x3cspan class\x3d'tile-title' ng-transclude\x3e\x3c/span\x3e\x3cbr/\x3e\x3cspan style\x3d'opacity: 0.67'\x3e{{::tag}}\x3c/span\x3e",scope:{name:"@",tag:"@"}}});
app.directive("tileFooter",function(){return{restrict:"E",transclude:true,template:"\x3cdiv layout\x3d'row' layout-align\x3d'space-between center'\x3e\n\t\t\t\t\t\t\t\t\t\x3cspan class\x3d'md-subhead' ng-transclude\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\x3cspan\x3e\x3ci class\x3d'material-icons'\x3echevron_right\x3c/i\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e",scope:{external:"@"}}});
app.directive("articleImage",function(){return{restrict:"E",template:"\x3cdiv style\x3d'background: #F3F3F3; text-align: center; float: {{::pos}}; margin: {{::margin}}; background: {{::bg}}'\x3e\n\t\t\t\t\t\t\t\t\t\x3cimg ng-src\x3d'{{::source}}' alt\x3d'{{::alt}}' width\x3d{{::width}} height\x3d{{::height}}/\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d'md-caption'\x3e {{::alt}}\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e",scope:{source:"@",width:"@",pos:"@",alt:"@",bg:"@"},link:function(scope){if(scope.pos==
"left")scope.margin="0 24px 24px 0";else if(scope.pos=="right")scope.margin="0 0 24px 24px";else scope.margin="24px 0 0 24px"}}});
app.directive("pjaxNav",function($compile){return{restrict:"A",link:function(scope,elem){elem.bind("beforeSend",function(e){scope.trust(e.data.url);var toAnim=angular.element(document.getElementById("content"));toAnim.removeClass("fade-up");toAnim.addClass("fade-down")});elem.bind("success",function(e){$compile(elem.contents())(scope);var toAnim=angular.element(document.getElementById("content"));toAnim.removeClass("fade-down");toAnim.addClass("fade-up")});elem.bind("error",function(){pjax.invoke("/404/",
"main")})}}});
if("serviceWorker"in navigator)navigator.serviceWorker.register("/service-worker.js").then(function(registration){var toaster=angular.element(document.getElementById("ctrl")).injector().get("Toast");registration.onupdatefound=function(){var installingWorker=registration.installing;installingWorker.onstatechange=function(){switch(installingWorker.state){case "installed":if(navigator.serviceWorker.controller)toaster("New content available","refresh");else toaster("Content cached for offline use","ok");
break;case "redundant":console.error("[SW] The installing service worker became redundant.");break}}}}).catch(function(e){console.error("[SW] Error during service worker registration:",e)});